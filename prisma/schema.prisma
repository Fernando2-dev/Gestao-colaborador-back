// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum RegimeContratacao {
  CLT
  PJ
}

model Colaborador {
  id                     Int                      @id @default(autoincrement())
  nome                   String
  email                  String                   @unique
  senha                  String
  idade                  String
  regime_contratacao     RegimeContratacao
  AreaAtuacaoColaborador AreaAtuacaoColaborador[]
  Projeto                Projeto?                 @relation(fields: [projetoId], references: [id])
  projetoId              Int?

  @@map("colaborador")
}

model AreaAtuacaoColaborador {
  id_colaborador  Colaborador @relation(fields: [colaborador_id], references: [id])
  id_area_atuacao AreaAtuacao @relation(fields: [areaAtuacao_id], references: [id])
  colaborador_id  Int
  areaAtuacao_id  Int

  @@id([colaborador_id, areaAtuacao_id])
  @@map("areaAtuacaoColaborador")
}

model AreaAtuacao {
  id                     Int                      @id @default(autoincrement())
  AreaAtuacaoColaborador AreaAtuacaoColaborador[]
  area_atuacao           String

  @@map("areaAtuacao")
}

model Projeto {
  id                Int                 @id @default(autoincrement())
  nome              String
  prazo             String
  descricao         String?
  id_colaboradores  Colaborador[]
  ProjetoTecnologia ProjetoTecnologia[]

  @@map("projeto")
}

model ProjetoTecnologia {
  id_tecnologia Tecnologia @relation(fields: [tecnologia_id], references: [id])
  id_projeto    Projeto    @relation(fields: [projeto_id], references: [id])
  tecnologia_id Int
  projeto_id    Int

  @@id([tecnologia_id, projeto_id])
  @@map("projetoTecnologia")
}

model Tecnologia {
  id                Int                 @id @default(autoincrement())
  ProjetoTecnologia ProjetoTecnologia[]
  nome_tecnologia   String

  @@map("tecnologia")
}
